@{
    Layout = null;

    ViewData["Title"] = "Upload Photos";
}

<link href="~/css/Pages/Upload.css" rel="stylesheet" />

<div id="photographer-upload--wrapper">
    <div class="container-fluid">

        <!-- header -->
        <div class="col-md-12">
            <div class="pull-left">
                <h2 class="header--large">Upload Photos</h2>
                <div class="yellow-background line--small"></div>
            </div>
            <div class="pull-right">
                <button type="button" class="close" aria-label="Close" ng-click="close()">
                    <span class="close-icon" aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
        <div class="clearfix"></div>

        <div ng-app="upload" ng-controller="UploadController" nv-file-drop="" uploader="uploader">
            <!-- drop zone -->
            <div class="col-md-12">
                <div ng-show="uploader.isHTML5">
                    <div class="drop-zone" nv-file-over="" uploader="uploader" ng-style="{ 'height': dropZone.Height + 'px' }">
                        <label class="drop-zone--label">
                            Click here or drag &amp; drop the photos to upload <input class="hidden" type="file" nv-file-select="" uploader="uploader" multiple>
                        </label>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div>
                <!-- photo preview -->
                <div class="col-md-6" ng-if="uploader.queue.length > 0 && index != null">
                    <div id="photo-preview">
                        <img id="large-photo-thumbnail" ng-src="{{ uploader.queue[index].file.src }}" />
                        <div class="col-md-8">
                            <p class="photo-preview-title">Name</p>
                            <div ng-if="uploader.queue[index].file.name.length > 19">
                                <textarea id="photo-preview-name" spellcheck="false">{{ uploader.queue[index].file.name }}</textarea>
                            </div>
                            <div ng-if="uploader.queue[index].file.name.length < 19">
                                <input id="photo-preview-name" spellcheck="false" value="{{ uploader.queue[index].file.name }}" />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <p class="photo-preview-title">Dimensions</p>
                            <p id="photo-preview-dimensions">{{ uploader.queue[index].file.dimensions }}</p>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-12">
                            @*<button id="btn-save-changes" class="pull-right" ng-click="uploader.queue[index].upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">Save Changes</button>*@
                            <button id="btn-save-changes" class="pull-right">Save Changes</button>
                            <button id="btn-discart-changes" class="pull-right" ng-click="removeItem(uploader.queue[index], $index)">Discart Changes</button>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <!-- photo list -->
                    <div id="photo-list">
                        <div class="row">
                            <ul id="photos">
                                <li class="media" ng-repeat="item in uploader.queue track by $index">
                                    <div class="col-md-2">
                                        <img  ng-click="selectItem(item, $index)" class="photo-thumbnail" ng-src="{{ item.file.src }}" />
                                    </div>
                                    <div class="col-md-4">
                                        <p class="photo-name">{{ item.file.name }}</p>
                                        <p class="photo-dimensions">{{ item.file.dimensions }}</p>
                                    </div>
                                    <div class="col-md-4">
                                        <p class="photo-code">Photo Code</p>
                                        <p class="code">{{ item.file.photoCode }}</p>
                                    </div>
                                    <div class="col-md-2">
                                        <p class="remove" ng-click="removeItem(item, $index)" style="cursor: pointer">Remove</p>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="progress" style="">
                                            <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-12" ng-repeat="item in uploader.queue" ng-if="$index == 0">
                            @*<button class="btn-save-and-upload pull-right" id="btn-save-and-upload" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">Save &amp; Upload</button>*@
                            <button class="btn-save-and-upload pull-right" id="btn-save-and-upload">Save &amp; Upload</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
