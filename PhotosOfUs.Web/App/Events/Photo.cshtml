@page "{eventId}/{photoCode}/{photoId}"
@model PhotoModel
@{
    ViewData["Title"] = Model.Photo.Name;
    Layout = "~/Home/Views/Shared/_Layout.cshtml";
}

<div class="photoPage" ng-controller="PhotosCtrl">
    <div class="header">
        <h2 class="header-large">@Model.Photo.Name</h2>
        <a href="/Photographer/Profile/@Model.Photo.PhotographerId" class="photoPage__photographer-info">
            <div>
                <div class="title">Photographer</div>
                <div class="name">@Model.Photo.Photographer.DisplayName</div>
            </div>
            @if (String.IsNullOrEmpty(Model.Photo.Photographer.ProfilePhotoUrl))
            {
                <img src="/images/icons/profile-icon.png" class="placeholder-img" />

            }
            else
            {
                <img src="@Model.Photo.Photographer.ProfilePhotoUrl" />
            }
        </a>
    </div>

    <div class="divider"></div>

    <div class="photoPage__actions">
        <div>
            <a class="back" href="/Photographer/Profile/@Model.Photo.PhotographerId">
                <img src="~/images/icons/ic_arrow_back_24px.png" />
                Back To Gallery
            </a>
        </div>
        <div class="share">
            @*Share Photo <img src="~/images/icons/share-arrow.png" />*@
            <img src="~/images/icons/share/share_facebook.png" ng-click="share('facebook', '@Model.Url')" />
            <img src="~/images/icons/share/share_twitter.png" ng-click="share('twitter', '@Model.Url')" />
            <img src="~/images/icons/share/share_pinterest.png" ng-click="share('pinterest','@Model.Url')" />
            <img src="~/images/icons/share/share_tumblr.png" ng-click="share('tumblr','@Model.Url')" />
        </div>

    </div>

    <img src="@(string.IsNullOrEmpty(Model.Photo.WaterMarkUrl)? Model.Photo.Url : Model.Photo.WaterMarkUrl)" class="photo-main" />

    <div class="photoPage__footer">
        <div class="header">Like This Photo?</div>
        <div class="container">
            <div class="purchase--info">
                Why not purchase a print and get it shipped right to your door?
                We offer many different sizes and stock. Or alternatively, you can purchase a digital version.
            </div>
            <div class="photoPage__footer--right">
                <div class="title">@*Starting At Just $5 Per Photo*@</div>
                @if (User.Identity.IsAuthenticated)
                {
                 <a href="/Events/Purchase/@Model.Photo.EventId/@Model.Photo.Id" class="button--yellow button--yellow--large">
                    <img src="~/images/icons/cart-red.png" />
                    Buy It Now
                 </a>
                }
                else
                {
                <a href="/Session/SignIn?redirectUrl=@Model.PurchasePageUrl" class="button--yellow button--yellow--large">
                    <img src="~/images/icons/cart-red.png" />
                    Login and Buy It Now
                </a>
                }
            </div>
        </div>
    </div>

</div>

